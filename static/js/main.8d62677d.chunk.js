(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(26),a=c.n(n),s=c(6),i=c(8),r=c(2),o=c(5),l=c.n(o),u=c(1),d=c.n(u),j=c(4),b=function(){window.scrollTo({top:0,behavior:"smooth"})},m=function(e){var t=Object(u.useState)(e),c=Object(r.a)(t,2),n=c[0],a=c[1];return Object(u.useEffect)((function(){document.body.style.overflow=n?"hidden":"auto"}),[n]),[n,function(){a(!n)}]},O=c(0),p=function(e){var t=e.callback;return Object(O.jsx)("div",{className:"not-implemented",children:Object(O.jsxs)("div",{className:"not-implemented__container",children:[Object(O.jsx)("p",{className:"not-implemented__message",children:"We are sorry, but this feature is not implemented yet"}),Object(O.jsx)("button",{type:"button",className:"not-implemented__button icon-button",onClick:t,children:"OK"})]})})},h=function(){var e=m(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(u.useState)(!1),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(u.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>400?l(!0):l(!1)}))}),[]),Object(O.jsxs)("footer",{className:"App__footer footer",children:[Object(O.jsxs)("div",{className:"footer__container _container",children:[Object(O.jsx)(s.b,{to:"/",className:"footer__logo-link",onClick:b,children:Object(O.jsx)("img",{className:"footer__logo-img",src:"./img/icons/LOGO.svg",alt:"Phones"})}),Object(O.jsx)("nav",{className:"footer__navbar",children:Object(O.jsxs)("ul",{className:"footer__menu-list",children:[Object(O.jsx)("li",{className:"footer__menu-item",children:Object(O.jsx)("a",{href:"https://github.com/",target:"_blank",rel:"noreferrer",className:"footer__menu-link",children:"github"})}),Object(O.jsx)("li",{className:"footer__menu-item",children:Object(O.jsx)("button",{type:"button",className:"footer__menu-link",onClick:n,children:"contacts"})}),Object(O.jsx)("li",{className:"footer__menu-item",children:Object(O.jsx)("button",{type:"button",className:"footer__menu-link",onClick:n,children:"rights"})})]})}),o&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{type:"button",className:"footer__back-top-link",onClick:b,children:"Back to top"}),Object(O.jsx)("button",{type:"button",className:"footer__back-top-button icon-button",onClick:b,"aria-label":"Mute volume"})]})]}),c&&Object(O.jsx)(p,{callback:n})]})},v=c(10),_=c.n(v),f=d.a.createContext({cartedProducts:[],setCartedProducts:function(){},favProducts:[],setFavProducts:function(){}}),x=function(e){var t=e.children,c=JSON.parse(window.localStorage.getItem("cartedProducts")||"[]"),n=Object(u.useState)(c),a=Object(r.a)(n,2),s=a[0],i=a[1],o=JSON.parse(window.localStorage.getItem("favProducts")||"[]"),l=Object(u.useState)(o),d=Object(r.a)(l,2),j={cartedProducts:s,setCartedProducts:i,favProducts:d[0],setFavProducts:d[1]};return Object(O.jsx)(f.Provider,{value:j,children:t})};function g(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];""===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()}var N=["phones","tablets","accessories","favorites"],y=function(e){var t=e.menuItems,c=e.toggleMenu,n=Object(u.useContext)(f).cartedProducts,a=Object(u.useContext)(f).favProducts,i=n.length,o=a.length,l=Object(j.n)(),d=Object(u.useState)(l.pathname.slice(1)),b=Object(r.a)(d,2),m=b[0],p=b[1],h=Object(s.d)(),v=Object(r.a)(h,2),x=v[0],y=v[1],k=x.get("query")||"";return Object(O.jsxs)("header",{id:"navbar",className:"App__header header",children:[Object(O.jsx)(s.b,{to:"/",className:"header__logo-link",children:Object(O.jsx)("img",{className:"header__logo-img",src:"./img/icons/LOGO.svg",alt:"Phones"})}),Object(O.jsx)("nav",{className:"header__navbar",children:Object(O.jsx)("ul",{className:"header__menu-list",children:t.map((function(e){return Object(O.jsx)("li",{className:"header__menu-item",children:Object(O.jsx)(s.c,{to:e.to,className:function(e){var t=e.isActive;return _()("header__menu-link",{"is-active":t})},onClick:function(){return p(e.title)},children:e.title})},e.title)}))})}),Object(O.jsx)("button",{type:"button",className:"header__burger icon-button","aria-label":"Mute volume",onClick:c}),N.includes(m)&&Object(O.jsxs)("label",{className:"header__search",children:[Object(O.jsx)("input",{type:"text",className:"header__search-field",placeholder:"Search in ".concat(m,"..."),value:k,onChange:function(e){var t=g(x,{query:"".concat(e.currentTarget.value)||""});y(t)}}),""===k?Object(O.jsx)("img",{src:"./img/icons/Search.svg",className:"header__search-img",alt:"search"}):Object(O.jsx)("button",{type:"button","aria-label":"Mute volume","data-cy":"searchDelete",className:"header__search-button",onClick:function(){var e=g(x,{query:""});y(e)}})]}),Object(O.jsx)(s.c,{to:"/favorites",className:function(e){var t=e.isActive;return _()("header__favorites-link","icon-button",{"is-active":t})},onClick:function(){return p("favorites")},children:o>0&&Object(O.jsx)("span",{className:"header__total-items",children:o})}),Object(O.jsx)(s.c,{to:"/cart",className:function(e){var t=e.isActive;return _()("header__cart-link","icon-button",{"is-active":t})},onClick:function(){return p("cart")},children:i>0&&Object(O.jsx)("span",{className:"header__total-items",children:i})})]})},k=function(e){var t=e.menuItems,c=e.isActiveMenu,n=e.toggleMenu;return Object(O.jsxs)("div",{className:_()("menu","App__menu",{"App__menu--is-active":c}),children:[Object(O.jsx)("button",{type:"button",className:"menu__close",onClick:n,children:"+"}),Object(O.jsx)("ul",{className:"menu__list",children:t.map((function(e){return Object(O.jsx)("li",{className:"menu__item",children:Object(O.jsx)(s.b,{to:e.to,className:"menu__link",onClick:n,children:e.title})},e.title)}))})]})},w="https://mate-academy.github.io/react_phone-catalog/_new";function C(e){return new Promise((function(t){setTimeout(t,e)}))}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(500).then((function(){return fetch(w+t)})).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return S("/products.json")}function E(e){return S("/products/".concat(e,".json"))}var I,L=c(7),M=[{idx:0,src:"img/banners/banner-accessories.png",alt:"Accessories"},{idx:1,src:"img/banners/banner-phones.png",alt:"Phones"},{idx:2,src:"img/banners/banner-tablets.png",alt:"Tablets"}],q=d.a.memo((function(){var e=Object(u.useRef)(),t=Object(u.useState)(0),c=Object(r.a)(t,2),n=c[0],a=c[1],s=Object(u.useState)(0),i=Object(r.a)(s,2),o=i[0],l=i[1],d=Object(u.useState)(0),j=Object(r.a)(d,2),b=j[0],m=j[1],p=Object(u.useState)(1),h=Object(r.a)(p,2),v=h[0],f=h[1],x=Object(u.useState)(window.innerWidth),g=Object(r.a)(x,2),N=g[0],y=g[1],k=Object(u.useState)(0),w=Object(r.a)(k,2),C=w[0],S=w[1],P=Object(u.useState)(!1),A=Object(r.a)(P,2),E=A[0],I=A[1],q=Object(u.useMemo)((function(){var e=M.map((function(e){return Object(O.jsx)("li",{className:"carousel__item",children:Object(O.jsx)("img",{src:e.src,alt:e.alt,className:"carousel__img"})},e.idx)}));return[Object(O.jsx)("li",{className:"carousel__item",children:Object(O.jsx)("img",{src:M[M.length-1].src,alt:M[M.length-1].alt,className:"carousel__img"})},M.length)].concat(Object(L.a)(e),[Object(O.jsx)("li",{className:"carousel__item",children:Object(O.jsx)("img",{src:M[0].src,alt:M[0].alt,className:"carousel__img"})},M.length+1)])}),[]),T=function(){l(1e3),I(!0),v===M.length?(a((M.length+1)*b),f(1),S(0)):(a((v+1)*b),f(v+1),S(C+1))};return Object(u.useLayoutEffect)((function(){var t,c=(null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0;a(c)}),[]),Object(u.useEffect)((function(){var t;m((null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0),a(v*b)}),[N]),Object(u.useEffect)((function(){var t,c=(null===(t=e.current)||void 0===t?void 0:t.clientWidth)||0;a(c);var n=function(){y(window.innerWidth),l(0)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),Object(u.useEffect)((function(){var e=function(){v<=1&&E&&(l(0),a(v*b)),v>=M.length&&(l(0),a(M.length*b))};return window.addEventListener("transitionend",e),function(){window.removeEventListener("transitionend",e)}}),[v]),Object(u.useEffect)((function(){var e=setInterval((function(){T()}),5e3);return function(){e&&window.clearInterval(e)}})),Object(O.jsx)("div",{className:"home-page__carousel carousel",children:Object(O.jsxs)("div",{className:"carousel__container _container",children:[Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" carousel__button carousel__button-left icon-button--left icon-button",onClick:function(){l(1e3),I(!0),1===v?(a(0),f(M.length),S(M.length-1)):(a((v-1)*b),f(v-1),S(C-1))}}),Object(O.jsx)("div",{className:"carousel__static-container",ref:e,children:Object(O.jsx)("ul",{className:"carousel__dynamic-container",style:{transform:"translateX(".concat(-n,"px)"),transitionDuration:"".concat(o,"ms")},children:q})}),Object(O.jsx)("div",{className:"carousel__indicators",children:M.map((function(e){return Object(O.jsx)("span",{className:_()("carousel__indicator",{"carousel__indicator--is-active":e.idx===C})},e.idx)}))}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" carousel__button carousel__button-right icon-button--right icon-button",onClick:T})]})})})),T=function(){var e=Object(u.useRef)(),t=Object(u.useRef)(),c=Object(u.useState)(0),n=Object(r.a)(c,2),a=n[0],s=n[1],i=Object(u.useState)(0),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(u.useState)(0),b=Object(r.a)(j,2),m=b[0],O=b[1],p=Object(u.useState)(window.innerWidth),h=Object(r.a)(p,2),v=h[0],_=h[1],f=Object(u.useState)(!1),x=Object(r.a)(f,2),g=x[0],N=x[1];return Object(u.useLayoutEffect)((function(){var c,n;d((null===(c=e.current)||void 0===c?void 0:c.clientWidth)||0),O((null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0)})),Object(u.useEffect)((function(){var e=function(){_(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(u.useEffect)((function(){var c,n;(d((null===(c=e.current)||void 0===c?void 0:c.clientWidth)||0),g)&&s(((null===(n=t.current)||void 0===n?void 0:n.clientWidth)||0)-l)}),[v]),{currTransitionX:a,isLastImgs:g,staticContainer:e,dynamicContainer:t,leftSlide:function(){N(!1),s(a-l<=0?0:a-l)},rightSlide:function(){a+2*l>=m?(s(m-l),N(!0)):s(a+l)}}},F=c(12),D=function(e){var t=e.product,c=e.characteristicsArr,n=e.detailsOrder,a=e.priceClassName,s=void 0===a?"":a,i=e.buttonsClassName,o=void 0===i?"":i,l=e.characteristicsClassName,d=void 0===l?"":l,j=Object(u.useContext)(f),b=j.cartedProducts,m=j.setCartedProducts,p=Object(u.useContext)(f),h=p.favProducts,v=p.setFavProducts,x=Object(u.useState)(b.some((function(e){return e.itemId===(null===t||void 0===t?void 0:t.itemId)}))),g=Object(r.a)(x,2),N=g[0],y=g[1],k=Object(u.useState)(h.some((function(e){return e.itemId===(null===t||void 0===t?void 0:t.itemId)}))),w=Object(r.a)(k,2),C=w[0],S=w[1],P=function(e,c,n,a,s){if(!a&&t)window.localStorage.setItem(e,JSON.stringify([].concat(Object(L.a)(c),[Object(F.a)(Object(F.a)({},t),{},{count:1})]))),n([].concat(Object(L.a)(c),[Object(F.a)(Object(F.a)({},t),{},{count:1})]));else{var i=c.filter((function(e){return e.itemId!==(null===t||void 0===t?void 0:t.itemId)}));window.localStorage.setItem(e,JSON.stringify(i)),n(i)}s(!a)};return Object(O.jsxs)("div",{className:"product-card__info main-product-details",children:[Object(O.jsxs)("p",{className:"main-product-details__price ".concat(s),style:{order:"".concat(n.indexOf("price")+1)},children:["$",null===t||void 0===t?void 0:t.price,Object(O.jsxs)("span",{className:"main-product-details__sale",children:["$",null===t||void 0===t?void 0:t.fullPrice]})]}),Object(O.jsx)("ul",{className:"main-product-details__characteristics-container\n          ".concat(d),style:{order:"".concat(n.indexOf("characteristics")+1)},children:c.map((function(e){return Object(O.jsxs)("li",{className:"main-product-details__characteristic",children:[e.name,Object(O.jsx)("span",{className:"main-product-details__characteristic-value",children:e.value})]},e.name)}))}),Object(O.jsxs)("div",{className:"main-product-details__buttons ".concat(o),style:{order:"".concat(n.indexOf("buttons")+1)},children:[Object(O.jsx)("button",{type:"button",className:_()("main-product-details__add-to-cart","icon-button",{"main-product-details--is-selected-cart":N}),onClick:function(){P("cartedProducts",b,m,N,y)},children:N?"Selected":"Add to cart"}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume","data-cy":"addToFavorite",className:_()("main-product-details__add-to-favorites","icon-button",{"main-product-details--is-selected-fav":C}),onClick:function(){P("favProducts",h,v,C,S)}})]})]})},W=function(e){var t=e.product,c=[{name:"Screen",value:t.screen},{name:"Capacity",value:t.capacity},{name:"RAM",value:t.ram}];return Object(O.jsxs)("div",{className:"product-card",children:[Object(O.jsx)(s.b,{to:"../".concat(null===t||void 0===t?void 0:t.category,"/").concat(null===t||void 0===t?void 0:t.itemId),className:"product-card__picture",onClick:b,children:Object(O.jsx)("img",{className:"product-card__img",src:t.image,alt:t.name})}),Object(O.jsx)(s.b,{to:"../".concat(t.category,"/").concat(t.itemId),className:"product-card__title",onClick:b,children:t.name}),Object(O.jsx)(D,{product:t,characteristicsArr:c,detailsOrder:["price","characteristics","buttons"]})]})},B=function(e){var t=e.title,c=e.products,n=e.topAmount,a=T(),s=a.currTransitionX,i=a.isLastImgs,r=a.staticContainer,o=a.dynamicContainer,l=a.leftSlide,u=a.rightSlide;return Object(O.jsxs)("div",{className:"products-slider",children:[Object(O.jsxs)("div",{className:"products-slider__header",children:[Object(O.jsx)("h2",{className:"products-slider__title",children:t}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-slider__button-left icon-button icon-button--left",onClick:l,disabled:0===s}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button icon-button--right",onClick:u,disabled:i})]}),Object(O.jsx)("div",{className:"products-slider__static-container",ref:r,children:Object(O.jsx)("ul",{ref:o,className:"products-slider__dynamic-container",style:{transform:"translateX(".concat(-s,"px)"),transitionDuration:"1000ms"},children:null===c||void 0===c?void 0:c.slice(0,n).map((function(e){return Object(O.jsx)("li",{className:"products-slider__item","data-cy":"cardsContainer",children:Object(O.jsx)(W,{product:e})},e.id)}))})})]})},R=function(e){var t=e.productsAmounts,c=[{id:"phones",src:"img/category/category-phones.png",title:"Mobile phones",to:"/phones",amount:t.phonesAmount},{id:"tablets",src:"img/category/category-tablets.png",title:"Tablets",to:"/tablets",amount:t.tabletsAmount},{id:"accessories",src:"img/category/category-accessories.png",title:"Accessories",to:"/accessories",amount:t.accessoriesAmount}],n=T(),a=n.currTransitionX,i=n.isLastImgs,r=n.staticContainer,o=n.dynamicContainer,l=n.leftSlide,u=n.rightSlide;return Object(O.jsx)("section",{className:"home-page__category category",children:Object(O.jsxs)("div",{className:"category__container _container",children:[Object(O.jsxs)("div",{className:"category__header",children:[Object(O.jsx)("h2",{className:"category__title",children:"Shop by category"}),Object(O.jsxs)("div",{className:"category__buttons",children:[Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button--left icon-button",onClick:l,disabled:0===a}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" icon-button--right icon-button",onClick:u,disabled:i})]})]}),Object(O.jsx)("div",{className:"category__static-container",ref:r,children:Object(O.jsx)("ul",{ref:o,className:"category__dynamic-container",style:{transform:"translateX(".concat(-a,"px)"),transitionDuration:"500ms"},"data-cy":"categoryLinksContainer",children:c.map((function(e){return Object(O.jsx)("li",{className:"category__card",children:Object(O.jsxs)(s.b,{to:e.to,children:[Object(O.jsx)("div",{className:"\n                    category__img-container\n                    category__img-container--".concat(e.id),children:Object(O.jsx)("img",{className:"category__img category__img--".concat(e.id),src:e.src,alt:e.title})}),Object(O.jsx)("p",{className:"category__card-title",children:e.title}),Object(O.jsxs)("p",{className:"category__card-amount",children:[e.amount," model",e.amount>1?"s":""]})]})},e.id)}))})})]})})};function J(e,t){if(!e)return null;var c=Object(L.a)(e);return c.sort((function(e,c){var n=e.fullPrice-e.price,a=c.fullPrice-c.price;switch(t){case I.Discount:return a-n;case I.Expensive:return c.fullPrice-e.fullPrice;case I.Age:return c.year-e.year;case I.Name:return e.name.localeCompare(c.name);case I.Cheapest:return e.fullPrice-c.fullPrice;default:return 0}})),c}!function(e){e.Discount="Discount",e.Expensive="Expensive",e.Age="Newest",e.Name="Alphabetically",e.Cheapest="Cheapest"}(I||(I={}));var X=function(e){var t=e.products,c=J(t,I.Discount),n=J(t,I.Expensive),a={phonesAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"phones"===e.category})).length)||0,tabletsAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"tablets"===e.category})).length)||0,accessoriesAmount:(null===t||void 0===t?void 0:t.filter((function(e){return"accessories"===e.category})).length)||0};return Object(O.jsx)("section",{className:"App__home-page home-page",children:Object(O.jsxs)("div",{className:"home-page__container _container",children:[Object(O.jsx)(q,{}),Object(O.jsx)(B,{title:"Hot prices \u2014 TOP ".concat(20),products:c,topAmount:20}),Object(O.jsx)(R,{productsAmounts:a}),Object(O.jsx)(B,{title:"Brand new models \u2014 TOP ".concat(20),products:n,topAmount:20})]})})};function z(e,t){var c=Object(u.useState)(e),n=Object(r.a)(c,2),a=n[0],s=n[1];return Object(u.useEffect)((function(){var c=setTimeout((function(){s(e)}),t);return function(){clearTimeout(c)}}),[e]),a}var $=function(e){var t=e.category,c=Object(j.r)().selectedProductId,n=void 0===c?"":c,a=Object(s.d)(),i=z(Object(r.a)(a,1)[0].get("query")||"",500);return Object(O.jsx)("section",{className:"App__products-page products-page",children:Object(O.jsxs)("div",{className:"products-page__container _container",children:[""===i&&Object(O.jsxs)("div",{className:"page-navigation","data-cy":"breadCrumbs",children:[Object(O.jsx)(s.b,{to:"/",className:"page-navigation__home-link"}),Object(O.jsx)(s.b,{to:"/".concat(t),className:"page-navigation__current-page-link",style:{pointerEvents:"".concat(""===n?"none":"initial")},children:t[0].toLocaleUpperCase()+t.slice(1)}),""!==n&&Object(O.jsx)(s.b,{to:"/".concat(t),className:"page-navigation__current-page-link",style:{pointerEvents:"none"},children:n})]}),Object(O.jsx)(j.b,{})]})})},G=c(9),U=function(e){var t=e.itemsList,c=e.value,n=e.filteredBy,a=e.callback,i=Object(u.useState)(!1),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(u.useRef)(null),b=Object(u.useRef)(null),m=Object(s.d)(),p=Object(r.a)(m,1)[0],h=function(){d(!l)},v=function(e){return function(){a(e),h()}},f=Object(u.useCallback)((function(e){var t=e.target,c=null===j||void 0===j?void 0:j.current,n=null===b||void 0===b?void 0:b.current;c&&t instanceof Node&&!c.contains(t)&&t!==n&&d(!1)}),[l,j]);return Object(u.useEffect)((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[f]),Object(O.jsxs)("div",{className:"dropdown",children:[Object(O.jsx)("button",{type:"button",className:_()("dropdown__button",{"dropdown__button--is-active":!!l}),onClick:h,ref:b,children:c}),Object(O.jsx)("ul",{className:_()("dropdown__list",{"dropdown__list--is-active":!!l}),ref:j,children:t.map((function(e){return Object(O.jsx)("li",{className:"dropdown__item",children:Object(O.jsx)(s.b,{to:"perPage"===n?{search:g(p,{page:"1",perPage:"".concat(e.query)})}:{search:g(p,Object(G.a)({},n,"".concat(e.query)))},onClick:v(e),className:"dropdown__link",children:e.title})},e.title)}))})]})},Y=function(e,t){return""!==(null===t||void 0===t?void 0:t.trim())&&null!==t?e.filter((function(e){return null===t||void 0===t?void 0:t.toLowerCase().split(" ").every((function(t){return e.name.toLowerCase().includes(t)}))})):e},H=(c(33),function(){return Object(O.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(O.jsx)("div",{className:"Loader__content"})})}),K=function(e){var t=e.category;return Object(O.jsxs)("div",{className:"no-results",children:[Object(O.jsxs)("h2",{className:"no-results__title",children:[t[0].toLocaleUpperCase()+t.slice(1)," not found"]}),Object(O.jsx)(s.b,{to:"/",className:"no-results__link icon-button",children:"Go Home"})]})},Q=function(e){var t=e.message,c=void 0===t?"Oops... Something went wrong. Please try to reload the page.":t;return Object(O.jsx)("div",{className:"error",children:c})},Z=function(e){var t,c=e.title,n=e.category,a=Object(u.useState)([]),o=Object(r.a)(a,2),d=o[0],j=o[1],m=Object(u.useState)(0),p=Object(r.a)(m,2),h=p[0],v=p[1],f=Object(u.useState)(!0),x=Object(r.a)(f,2),N=x[0],y=x[1],k=Object(u.useState)(!1),w=Object(r.a)(k,2),C=w[0],S=w[1],P=[{title:"Default",value:"Default",query:""},{title:I.Age,value:"age",query:"age"},{title:I.Name,value:"name",query:"name"},{title:I.Cheapest,value:"price",query:"price"}],E=[{title:"4",value:4,query:"4"},{title:"8",value:8,query:"8"},{title:"16",value:16,query:"16"},{title:"all",value:h,query:"all"}],M=Object(s.d)(),q=Object(r.a)(M,2),T=q[0],F=q[1],D=Object(u.useState)(E[2].value),B=Object(r.a)(D,2),R=B[0],X=B[1],$=Object(u.useState)(P[0]),G=Object(r.a)($,2),Z=G[0],V=G[1],ee=Object(u.useState)([1]),te=Object(r.a)(ee,2),ce=te[0],ne=te[1],ae=Object(u.useState)(+(T.get("page")||1)),se=Object(r.a)(ae,2),ie=se[0],re=se[1],oe=(ie-1)*R,le=ie*R>h?h:ie*R,ue=z(T.get("query")||"",500);function de(){return(de=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,A();case 4:t=e.sent,j(t.filter((function(e){return e.category===n}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),S(!0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}var je=function(e){var t=g(T,{page:"".concat(e),perPage:"".concat(R)});F(t),re(e),b()},be=Object(u.useMemo)((function(){var e=Object(L.a)(d);return"Default"!==Z.title||ue?(e=Y(e,ue),v(e.length),Z.title?J(e,Z.title):e):(v(d.length),d)}),[Z.title,d.length,ue])||[];return Object(u.useEffect)((function(){for(var e,t=Math.ceil(h/+R),c=[],n=1;n<=t;n++)c.push(n);ne(c),X((null===(e=E.find((function(e){return e.title===T.get("perPage")})))||void 0===e?void 0:e.value)||16)}),[h,R]),Object(u.useEffect)((function(){!function(){de.apply(this,arguments)}(),V(P.find((function(e){return e.query===T.get("sort")}))||P[0])}),[n]),N?Object(O.jsx)(H,{}):N||0!==(null===be||void 0===be?void 0:be.length)||""!==ue?!N&&C?Object(O.jsx)(Q,{}):Object(O.jsxs)("article",{className:"products-list",children:[""===ue?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"products-list__title",children:c}),0!==h&&Object(O.jsxs)("p",{className:"products-list__amount total",children:[h," model",h>1?"s":""]}),Object(O.jsxs)("div",{className:"products-list__dropdowns-container",children:[Object(O.jsxs)("div",{className:"products-list__dropdown",children:[Object(O.jsx)("p",{className:"products-list__dropdown-title",children:"Sort by"}),Object(O.jsx)(U,{itemsList:P,value:Z.title,filteredBy:"sort",callback:function(e){V(e)}})]}),Object(O.jsxs)("div",{className:"products-list__dropdown",children:[Object(O.jsx)("p",{className:"products-list__dropdown-title",children:"Items on page"}),Object(O.jsx)(U,{itemsList:E,value:(null===(t=E.find((function(e){return e.title===T.get("perPage")})))||void 0===t?void 0:t.title)||16,filteredBy:"perPage",callback:function(e){X(+e.value),re(1)}})]})]})]}):Object(O.jsxs)("p",{className:"products-list__serch-result total",children:[h," result",h>1?"s":""]}),Object(O.jsx)("div",{className:"products-list__producst-container products-grid","data-cy":"productList",children:null===be||void 0===be?void 0:be.slice(oe,le).map((function(e){return Object(O.jsx)(u.Fragment,{children:Object(O.jsx)(W,{product:e})},e.id)}))}),(null===be||void 0===be?void 0:be.length)>R&&Object(O.jsxs)("div",{className:"products-list__pagination-container",children:[Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-list__button icon-button icon-button--left",onClick:function(){return je(ie-1)},disabled:1===ie,"data-cy":"paginationLeft"}),Object(O.jsx)("div",{className:"products-list__pages-container",children:ce.map((function(e){return Object(O.jsx)("button",{type:"button",className:_()("products-list__pagination-button","icon-button",{"products-list__pagination-button--is-active":e===ie}),onClick:function(){return je(e)},children:e},e)}))}),Object(O.jsx)("button",{type:"button","aria-label":"Mute volume",className:" products-list__button icon-button icon-button--right",onClick:function(){return je(ie+1)},disabled:ie===ce[ce.length-1],"data-cy":"paginationRight"})]})]}):Object(O.jsx)(K,{category:n})},V=function(){return Object(O.jsx)("button",{type:"button",className:"back-link",onClick:function(){window.history.back()},"data-cy":"backButton",children:"Back"})};var ee=function(e){var t=e.products,c=Object(j.r)().selectedProductId,n=void 0===c?"":c,a=Object(u.useState)(null),o=Object(r.a)(a,2),d=o[0],b=o[1],m=Object(u.useState)([]),p=Object(r.a)(m,2),h=p[0],v=p[1],f=function(e){if(!e)return[];for(var t,c=e.length;0!==c;){t=Math.floor(Math.random()*c),c--;var n=[e[t],e[c]];e[c]=n[0],e[t]=n[1]}return e}(t),x=Object(u.useState)(""),g=Object(r.a)(x,2),N=g[0],y=g[1],k=Object(u.useState)(""),w=Object(r.a)(k,2),C=w[0],S=w[1],P=Object(u.useState)(""),A=Object(r.a)(P,2),I=A[0],M=A[1],q=n.split("-").slice(0,-2),T=null===t||void 0===t?void 0:t.find((function(e){return e.itemId===n})),F=Object(u.useState)(!1),W=Object(r.a)(F,2),R=W[0],J=W[1],X=Object(u.useState)(!1),z=Object(r.a)(X,2),$=z[0],G=z[1];function U(){return(U=Object(i.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.prev=1,e.next=4,E(n);case 4:c=e.sent,b(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),null!==t&&void 0!==t&&t.some((function(e){return e.itemId===n}))&&G(!0);case 11:return e.prev=11,J(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){v([{name:"Screen",value:null===d||void 0===d?void 0:d.screen},{name:"Resolution",value:null===d||void 0===d?void 0:d.resolution},{name:"Processor",value:null===d||void 0===d?void 0:d.processor},{name:"RAM",value:null===d||void 0===d?void 0:d.ram},{name:"Built-in memory",value:null===d||void 0===d?void 0:d.capacity},{name:"Camera",value:null===d||void 0===d?void 0:d.camera},{name:"Zoom",value:null===d||void 0===d?void 0:d.zoom},{name:"Cell",value:null===d||void 0===d?void 0:d.cell.join(", ")}]),y((null===d||void 0===d?void 0:d.images[0])||""),S((null===d||void 0===d?void 0:d.color)||""),M((null===d||void 0===d?void 0:d.capacity.toLowerCase())||"")}),[null===d||void 0===d?void 0:d.id]),Object(u.useEffect)((function(){!function(){U.apply(this,arguments)}()}),[n]),R?Object(O.jsx)(H,{}):Object(O.jsxs)("section",{className:"product-details",children:[Object(O.jsx)(V,{}),$&&Object(O.jsx)(Q,{}),!R&&!$&&!d&&Object(O.jsx)(Q,{message:"Product was not found"}),!R&&!$&&d&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"product-details__title",children:null===d||void 0===d?void 0:d.name}),Object(O.jsxs)("div",{className:"product-details__main-block",children:[Object(O.jsxs)("article",{className:"product-details__pictures-block",children:[Object(O.jsx)("div",{className:"product-details__pictures-list",children:null===d||void 0===d?void 0:d.images.map((function(e){return Object(O.jsx)("button",{type:"button",className:_()("product-details__pictures-item",{"product-details--is-active-border":N===e}),onClick:function(){return function(e){y(e)}(e)},children:Object(O.jsx)("img",{src:e,alt:null===d||void 0===d?void 0:d.name,className:"product-details__img"})},e)}))}),Object(O.jsx)("div",{className:"product-details__pictures-presentation",children:Object(O.jsx)("img",{src:N,alt:null===d||void 0===d?void 0:d.name,className:"product-details__img"})})]}),Object(O.jsxs)("article",{className:"product-details__actions-block",children:[Object(O.jsxs)("div",{className:"product-details__colors",children:[Object(O.jsx)("p",{children:"Available colors"}),Object(O.jsx)("ul",{className:"product-details__actions-list",children:null===d||void 0===d?void 0:d.colorsAvailable.map((function(e){var t="";switch(e){case"rosegold":t="#b76e79";break;case"spacegray":t="#717378";break;case"midnightgreen":t="#004953";break;default:t=e}return Object(O.jsx)("li",{className:_()("product-details__color-item",{"product-details--is-active-border":C===e}),children:Object(O.jsx)(s.b,{to:"../".concat([].concat(Object(L.a)(q),[I,e]).join("-")),className:"product-details__color-link",style:{backgroundColor:"".concat(t)},type:"button","aria-label":"Mute volume",onClick:function(){return function(e){S(e)}(e)}})},e)}))})]}),Object(O.jsxs)("div",{className:"product-details__capacity",children:[Object(O.jsx)("p",{children:"Select capacity"}),Object(O.jsx)("ul",{className:"product-details__actions-list",children:null===d||void 0===d?void 0:d.capacityAvailable.map((function(e){return Object(O.jsx)("li",{className:_()("product-details__capacity-item",{"product-details--is-active-background":I===e.toLowerCase()}),children:Object(O.jsx)(s.b,{to:"../".concat([].concat(Object(L.a)(q),[e.toLowerCase(),C]).join("-")),onClick:function(){return function(e){M(e)}(e)},children:e})},e)}))})]}),Object(O.jsx)(D,{product:T,characteristicsArr:h.slice(0,4),detailsOrder:["price","buttons","characteristics"],priceClassName:"product-details__price",buttonsClassName:"product-details__buttons"})]}),Object(O.jsxs)("article",{className:"product-details__about-block","data-cy":"productDescription",children:[Object(O.jsx)("h3",{className:"product-details__block-title",children:"About"}),null===d||void 0===d?void 0:d.description.map((function(e){return Object(O.jsxs)(u.Fragment,{children:[Object(O.jsx)("h4",{className:"product-details__paragraphe-title",children:e.title}),Object(O.jsx)("p",{className:"product-details__paragraphe-text",children:e.text})]},e.title)}))]}),Object(O.jsxs)("article",{className:"product-details__tech-block",children:[Object(O.jsx)("h3",{className:"product-details__block-title",children:"Tech specs"}),Object(O.jsx)("ul",{className:"main-product-details__characteristics-container",children:h.map((function(e){return Object(O.jsxs)("li",{className:"main-product-details__characteristic",children:[e.name,Object(O.jsx)("span",{className:"main-product-details__characteristic-value",children:e.value})]},e.name)}))})]})]})]}),Object(O.jsx)(B,{title:"You may also like",products:f,topAmount:(null===t||void 0===t?void 0:t.length)||0})]})},te=function(){var e=Object(u.useContext)(f),t=e.cartedProducts,c=e.setCartedProducts,n=Object(u.useState)(0),a=Object(r.a)(n,2),s=a[0],i=a[1],o=Object(u.useState)(0),l=Object(r.a)(o,2),d=l[0],j=l[1],b=m(!1),h=Object(r.a)(b,2),v=h[0],_=h[1],x=function(e,n){var a=t.map((function(t){return t.itemId===e.itemId?"inc"===n?Object(F.a)(Object(F.a)({},e),{},{count:e.count+1}):Object(F.a)(Object(F.a)({},e),{},{count:e.count-1}):t}));window.localStorage.setItem("cartedProducts",JSON.stringify(Object(L.a)(a))),c(a),"inc"===n&&(i((function(t){return t+e.price})),j((function(e){return e+1}))),"dec"===n&&(i((function(t){return t-e.price})),j((function(e){return e-1})))};return Object(u.useEffect)((function(){t.length>0&&t.forEach((function(e){i((function(t){return t+e.price*e.count})),j((function(t){return t+e.count}))}))}),[]),Object(O.jsxs)("section",{className:"cart",children:[Object(O.jsxs)("div",{className:"cart__container _container",children:[Object(O.jsx)(V,{}),Object(O.jsx)("h1",{className:"cart__title",children:"Cart"}),0===t.length?Object(O.jsx)("p",{children:"Your cart is empty"}):Object(O.jsxs)("div",{className:"cart__contant",children:[Object(O.jsx)("ul",{className:"cart__products-list",children:t.map((function(e){return Object(O.jsxs)("li",{className:"cart__product",children:[Object(O.jsx)("button",{"aria-label":"Mute volume",type:"button","data-cy":"cartDeleteButton",className:"cart__close icon-button icon-button--close",onClick:function(){return function(e){var n=t.filter((function(t){return t.itemId!==(null===e||void 0===e?void 0:e.itemId)}));window.localStorage.setItem("cartedProducts",JSON.stringify(n)),c(n),i((function(t){return t-e.price*e.count})),j((function(t){return t-e.count}))}(e)}}),Object(O.jsx)("div",{className:"cart__img-container",children:Object(O.jsx)("img",{className:"cart__img",src:e.image,alt:e.name})}),Object(O.jsx)("p",{className:"cart__product-title",children:e.name}),Object(O.jsxs)("div",{className:"cart__counts_container",children:[Object(O.jsx)("button",{type:"button",className:" cart__button icon-button",onClick:function(){return x(e,"dec")},disabled:1===e.count,children:"-"}),Object(O.jsx)("p",{className:"cart__count","data-cy":"productQauntity",children:e.count}),Object(O.jsx)("button",{type:"button",className:" cart__button icon-button",onClick:function(){return x(e,"inc")},children:"+"})]}),Object(O.jsxs)("p",{className:"cart__price",children:["$",e.price]})]},e.itemId)}))}),Object(O.jsxs)("div",{className:"cart__checkout",children:[Object(O.jsxs)("p",{className:"cart__total-price",children:["$",s]}),Object(O.jsxs)("p",{className:"cart__total-items",children:["Total for ",d," item",d>1?"s":""]}),Object(O.jsx)("button",{type:"button",className:" cart__button-checkout icon-button",onClick:_,children:"Checkout"})]})]})]}),v&&Object(O.jsx)(p,{callback:_})]})},ce=function(){var e=Object(u.useContext)(f).favProducts,t=e.length,c=Object(s.d)(),n=z(Object(r.a)(c,1)[0].get("query")||"",500),a=Object(u.useMemo)((function(){var t=Object(L.a)(e);return n?Y(t,n):e}),[Object(L.a)(e),n])||[];return Object(O.jsx)("section",{className:"fav-page",children:Object(O.jsxs)("div",{className:"fav-page__container _container",children:[""===n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"page-navigation",children:[Object(O.jsx)(s.b,{to:"/",className:"page-navigation__home-link"}),Object(O.jsx)(s.b,{to:"/favorites",className:"page-navigation__current-page-link",style:{pointerEvents:"none"},children:"Favorites"})]}),Object(O.jsx)("h1",{className:"fav-page__title _titles",children:"Favorites"}),0!==t&&Object(O.jsxs)("p",{className:"fav-page__total total",children:[t," model",t>1?"s":""]})]}):Object(O.jsxs)("p",{className:"fav-page__serch-result total",children:[t," result",t>1?"s":""]}),0===t?Object(O.jsx)("p",{children:"No products in Favorites"}):Object(O.jsx)("div",{className:"fav-page__producst-container products-grid","data-cy":"productList",children:a.map((function(e){return Object(O.jsx)(u.Fragment,{children:Object(O.jsx)(W,{product:e})},e.id)}))})]})})},ne=[{to:"/",title:"home"},{to:"/phones",title:"phones"},{to:"/tablets",title:"tablets"},{to:"/accessories",title:"accessories"}],ae=function(){var e=Object(u.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(u.useState)(null),s=Object(r.a)(a,2),o=s[0],d=s[1],b=Object(u.useState)(!1),m=Object(r.a)(b,2),p=m[0],v=m[1],_=Object(u.useState)(!1),f=Object(r.a)(_,2),g=f[0],N=f[1],w=function(){n(!c)};function C(){return(C=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,A();case 4:t=e.sent,d(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N(!0);case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),p?Object(O.jsx)(H,{}):!p&&g?Object(O.jsx)(Q,{}):Object(O.jsx)(x,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(y,{menuItems:ne,toggleMenu:w}),Object(O.jsx)(k,{menuItems:ne,isActiveMenu:c,toggleMenu:w}),Object(O.jsxs)(j.e,{children:[Object(O.jsx)(j.c,{path:"/",element:Object(O.jsx)(X,{products:o})}),Object(O.jsx)(j.c,{path:"/home",element:Object(O.jsx)(j.a,{to:"/",replace:!0})}),Object(O.jsxs)(j.c,{path:"/phones",element:Object(O.jsx)($,{category:"phones"}),children:[Object(O.jsx)(j.c,{index:!0,element:Object(O.jsx)(Z,{title:"Mobile phones",category:"phones"})}),Object(O.jsx)(j.c,{path:":selectedProductId",element:Object(O.jsx)(ee,{products:o})})]}),Object(O.jsxs)(j.c,{path:"/tablets",element:Object(O.jsx)($,{category:"tablets"}),children:[Object(O.jsx)(j.c,{index:!0,element:Object(O.jsx)(Z,{title:"Tablets",category:"tablets"})}),Object(O.jsx)(j.c,{path:":selectedProductId",element:Object(O.jsx)(ee,{products:o})})]}),Object(O.jsxs)(j.c,{path:"/accessories",element:Object(O.jsx)($,{category:"accessories"}),children:[Object(O.jsx)(j.c,{index:!0,element:Object(O.jsx)(Z,{title:"Accessories",category:"accessories"})}),Object(O.jsx)(j.c,{path:":selectedProductId",element:Object(O.jsx)(ee,{products:o})})]}),Object(O.jsx)(j.c,{path:"/favorites",element:Object(O.jsx)(ce,{})}),Object(O.jsx)(j.c,{path:"/cart",element:Object(O.jsx)(te,{})}),Object(O.jsx)(j.c,{path:"*",element:Object(O.jsx)("div",{className:"App__not-found",children:Object(O.jsx)(Q,{message:"Page is not found"})})})]}),Object(O.jsx)(h,{})]})})};c(34);a.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(ae,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.8d62677d.chunk.js.map